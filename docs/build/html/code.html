
<!DOCTYPE html>

<html lang="python">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>cmos-noise-map &#8212; CMOS Noise Map 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Modeling Random Telegraph Signal" href="algorithm.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="cmos-noise-map">
<h1>cmos-noise-map<a class="headerlink" href="#cmos-noise-map" title="Permalink to this headline">¶</a></h1>
<section id="the-basic-framework">
<h2>The Basic Framework<a class="headerlink" href="#the-basic-framework" title="Permalink to this headline">¶</a></h2>
</section>
<section id="code-documentation">
<h2>Code documentation<a class="headerlink" href="#code-documentation" title="Permalink to this headline">¶</a></h2>
<section id="main-wrapper-function">
<h3>Main wrapper function<a class="headerlink" href="#main-wrapper-function" title="Permalink to this headline">¶</a></h3>
<br>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.main.cli">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.main.</span></span><span class="sig-name descname"><span class="pre">cli</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="headerlink" href="#cmos_noise_map.main.cli" title="Permalink to this definition">¶</a></dt>
<dd><p>This script builds a noise map with the chosen method.</p>
<p>path: Path to input without the .fits at the end</p>
<p>filename: Path to write file, including the filename ending in .fits</p>
<p>method: Default method is std. Available methods are std, rts, and param. See docs for more information about each method.</p>
</dd></dl>

</section>
<section id="main-functions-to-produce-a-read-noise-map">
<h3>Main functions to produce a read noise map<a class="headerlink" href="#main-functions-to-produce-a-read-noise-map" title="Permalink to this headline">¶</a></h3>
<br>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.methods.do_rts">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.methods.</span></span><span class="sig-name descname"><span class="pre">do_rts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_q</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmos_noise_map.methods.do_rts" title="Permalink to this definition">¶</a></dt>
<dd><p>A function wrapping all the methods to produce a full readnoise map</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) -- DESCRIPTION. The path to the files to be read in</p></li>
<li><p><strong>upper_q</strong> (<em>float</em>) -- DESCRIPTION. Upper standard deviation cutoff for noisy pixels for evaluation</p></li>
<li><p><strong>*args</strong> -- DESCRIPTION. The arguments to be passed to get_rts</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>readnoise_map</strong> -- array where each element is the readnoise associated with that pixel.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of the same shape as the input data</p>
</dd>
</dl>
</dd></dl>

<p><br><br></p>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.methods.do_std">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.methods.</span></span><span class="sig-name descname"><span class="pre">do_std</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmos_noise_map.methods.do_std" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to take the standard deviation of each pixel to use as a readnoise map.
This is a faster method than do_rts, less rigorous statistically but achieves similar answers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) -- DESCRIPTION. The path to the files to be read in</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>readnoise_map</strong> -- array where each element is the readnoise associated with that pixel.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of the same shape as the input data</p>
</dd>
</dl>
</dd></dl>

<p><br><br></p>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.methods.do_rts_params">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.methods.</span></span><span class="sig-name descname"><span class="pre">do_rts_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_q</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmos_noise_map.methods.do_rts_params" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) -- DESCRIPTION. The path to the files to be read in</p></li>
<li><p><strong>upper_q</strong> (<em>float</em>) -- DESCRIPTION. Upper standard deviation cutoff for noisy pixels for evaluation</p></li>
<li><p><strong>*args</strong> -- DESCRIPTION. The arguments to be passed to get_rts</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>readnoise_map</strong> -- array where each element is a list of associated parameters from modelling the pixel.
It returns a nan for each parameter if a pixel does not exhibit RTS or is not noisy.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of the same shape as the input data</p>
</dd>
</dl>
</dd></dl>

<br>
</section>
<section id="base-functions-to-calculate-the-read-noise-from-standard-deviation">
<h3>Base functions to calculate the read noise from standard deviation<a class="headerlink" href="#base-functions-to-calculate-the-read-noise-from-standard-deviation" title="Permalink to this headline">¶</a></h3>
<br>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.get_rts.readnoise">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.get_rts.</span></span><span class="sig-name descname"><span class="pre">readnoise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">means</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variances</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_peaks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitudes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmos_noise_map.get_rts.readnoise" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that takes model parameters for each pixel and converts it to a
single readnoise value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>means</strong> (<em>array of floats</em><em>, </em><em>shape</em><em> (</em><em>N</em><em>, </em><em>1</em><em>) </em><em>where N is the number of model components</em>) -- The means of each gaussian used to create the model.</p></li>
<li><p><strong>variances</strong> (<em>array of floats</em><em>, </em><em>shape</em><em> (</em><em>N</em><em>, </em><em>1</em><em>) </em><em>where N is the number of model components</em>) -- The covariance matrices of each gaussian used to create the model.</p></li>
<li><p><strong>num_peaks</strong> (<em>int</em>) -- The optimal number of peaks found by the get_rts function</p></li>
<li><p><strong>amplitudes</strong> (<em>list of len</em><em>(</em><em>N</em><em>) </em><em>where N is the number of model components</em>) -- The amplitude of each gaussian component modelled by get_rts.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>readnoise</strong> -- The standard deviation of the pixel whose parameters are passed through, which is taken to be the read noise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<p><br><br></p>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.get_rts.per_pixel_readnoise">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.get_rts.</span></span><span class="sig-name descname"><span class="pre">per_pixel_readnoise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmos_noise_map.get_rts.per_pixel_readnoise" title="Permalink to this definition">¶</a></dt>
<dd><p>A function wrapping get_rts and readnoise to get to the pixel readnoise</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>list</em>) -- DESCRIPTION. List of values of one pixel across images</p></li>
<li><p><strong>**kwargs</strong> -- Arguments to be passed to get_rts</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pixel_readnoise</strong> -- DESCRIPTION.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<br>
</section>
<section id="read-and-write-functions">
<h3>Read and write functions<a class="headerlink" href="#read-and-write-functions" title="Permalink to this headline">¶</a></h3>
<br>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.read_write_fns.read_bias_frames">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.read_write_fns.</span></span><span class="sig-name descname"><span class="pre">read_bias_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmos_noise_map.read_write_fns.read_bias_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to open up fits files with memory mapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) -- DESCRIPTION. The path to your fits files without the .fits at the end</p></li>
<li><p><strong>data_ext</strong> (<em>integer</em><em> or </em><em>string</em><em>, </em><em>optional</em>) -- DESCRIPTION. The default is 0. This is the extension to the data header data unit (hdu) that is to be processed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ims</strong> -- DESCRIPTION. And array of opened, memory mapped, fits hdus. Not the data itself.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<p><br><br></p>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.read_write_fns.write_hdu">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.read_write_fns.</span></span><span class="sig-name descname"><span class="pre">write_hdu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmos_noise_map.read_write_fns.write_hdu" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to write the data out to a fits file containing a read nosie map</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>NxN array of floats</em>) -- DESCRIPTION. The data to be written out into the fits file. This is where the readnoise map goes.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<br>
</section>
<section id="miscellaneous-utility-functions">
<h3>Miscellaneous utility functions<a class="headerlink" href="#miscellaneous-utility-functions" title="Permalink to this headline">¶</a></h3>
<br>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.utils.misc_fns.data_to_pixel">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.utils.misc_fns.</span></span><span class="sig-name descname"><span class="pre">data_to_pixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmos_noise_map.utils.misc_fns.data_to_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes data in the form of a series of opened images (of whatever shape) and
returns the data as a list of pixel values across images, along with data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>list</em><em>, </em><em>shape</em><em>(</em><em>N images</em><em>, </em><em>rows</em><em>, </em><em>columns</em><em>) </em><em>#Is this true?</em>) -- DESCRIPTION. A list of images or cutout of images</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pixels</strong> -- DESCRIPTION. The list of pixel values across images, for all pixels given.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of shape(1, N images)</p>
</dd>
</dl>
</dd></dl>

<p><br><br></p>
<dl class="py function">
<dt class="sig sig-object py" id="cmos_noise_map.utils.misc_fns.qc_input">
<span class="sig-prename descclassname"><span class="pre">cmos_noise_map.utils.misc_fns.</span></span><span class="sig-name descname"><span class="pre">qc_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cmos_noise_map.utils.misc_fns.qc_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that data is all the same shape, and that there are at least 50 files.
This is used in read_bias_frames</p>
</dd></dl>

</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">CMOS Noise Map</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="algorithm.html">Modeling Random Telegraph Signal</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">cmos-noise-map</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-basic-framework">The Basic Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-documentation">Code documentation</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="algorithm.html" title="previous chapter">Modeling Random Telegraph Signal</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Prerana Kottapalli, Curtis McCully, Daniel Harbeck, Matt Daily.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/code.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>